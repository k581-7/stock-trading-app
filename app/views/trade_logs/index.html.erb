<%# app/views/trade_logs/index.html.erb %>
<style>
  /* Base */
  .transactions-page{background:#0B1220;min-height:100vh;color:#fff;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif}
  .muted{color:#9AA4B2}

  /* Tabs wrapper */
  .tabs-wrap{background:#1F2937;border-radius:.75rem;padding:1rem}
  .tabs-wrap .nav-tabs{border-bottom:0 !important}
  .tabs-wrap .nav-tabs .nav-link{
    border:0 !important;
    background:#374151;
    color:#DBE4EE;
    border-radius:.6rem;
    padding:.85rem 1rem;
    min-width:240px;
    transition:background .2s,color .2s;
  }
  .tabs-wrap .nav-tabs .nav-link.active{
    background:#2563EB;
    color:#fff;
    border:0 !important;
  }
  .tabs-wrap .nav-tabs .nav-link:focus{box-shadow:none !important;outline:none !important}

  /* History container */
  .section-card{background:#1F2937;border-radius:.75rem;margin-bottom:1.25rem;border:0}
  .section-card .card-header{background:transparent;border:0}
  .section-card h5{color:#f9fafb;font-weight:600}
</style>

<div class="transactions-page container-fluid">
  <div class="container py-4" style="max-width:1200px;">

    <!-- Page Header -->
    <h3 class="mb-0 fw-bold" style="color:#f9fafb;">Transactions</h3>
    <small class="muted">Complete audit trail of all your trading actions and account activities<br><br></small>

    <!-- Section Tabs -->
    <div class="tabs-wrap mb-4">
      <ul class="nav nav-tabs gap-3" role="tablist" style="list-style:none; padding:0; margin:0;">
        <li class="nav-item" role="presentation">
          <a class="nav-link active" data-bs-toggle="tab" href="#trade" role="tab" aria-selected="true">
            <div style="font-weight:600;">Trade History (<%= @trade_history.count %>)</div>
            <div style="font-size:.85rem; color:#e5f0ff;">Your buy and sell actions</div>
          </a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" data-bs-toggle="tab" href="#wallet" role="tab" aria-selected="false">
            <div style="font-weight:600;">Wallet Activity (<%= @wallet_logs.count %>)</div>
            <div style="font-size:.85rem; color:#9AA4B2;">Deposits and withdrawals</div>
          </a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" data-bs-toggle="tab" href="#all" role="tab" aria-selected="false">
            <div style="font-weight:600;">All Activity (<%= @trade_logs.count %>)</div>
            <div style="font-size:.85rem; color:#9AA4B2;">Complete transaction history</div>
          </a>
        </li>
      </ul>
    </div>

    <!-- Trading History Container -->
    <div class="card section-card">
      <div class="card-header d-flex justify-content-between align-items-center px-4 py-3">
        <h5 class="mb-0">Trading History (<%= @trade_history.count %>)</h5>
        <small class="muted">Every buy and sell action you've made</small>
      </div>

      <!-- Tab Content -->
      <div class="tab-content px-3 pb-3">
        <div class="tab-pane fade show active" id="trade" role="tabpanel">
          <%= render partial: "table", locals: { logs: @trade_history } %>
        </div>
        <div class="tab-pane fade" id="wallet" role="tabpanel">
          <%= render partial: "table", locals: { logs: @wallet_logs } %>
        </div>
        <div class="tab-pane fade" id="all" role="tabpanel">
          <%= render partial: "table", locals: { logs: @trade_logs } %>
        </div>
      </div>
    </div>
  </div>
</div>
